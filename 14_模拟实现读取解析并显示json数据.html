<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		ul,li{list-style: none;}
		ul{
			width: 1000px;
			margin: 0 auto;
		}
		li{
			float: left;
			width: 190px;
			height: 266px;
			box-sizing: border-box;
			padding: 20px;
			margin-right: 10px;
		}
	</style>
</head>
<body>
	<div id="goods">
		<h1>努力加载中....</h1>
	</div>
	<script type="text/html" id="good-list">
		{{if goods.length>0}}
			<ul>
				{{each goods}}
				<li>
					<img src="{{$value.icon}}" alt="">
					<h3>{{$value.title}}</h3>
					<p>{{$value.price}}</p>
				</li>
				{{/each}}
			</ul>
		{{/if}}
	</script>
	<script type="text/javascript" src="./ajax.js"></script>
	<script type="text/javascript" src="./js/template-web.js"></script>
	<script type="text/javascript">
		var goodsDiv = document.querySelector("#goods");
		// 结合所学的ajax函数，获取得到后端返回的json结构的数据
		ajax({
			method:"get",
			url:"./14.php",
			success:function(req){
				var str = template("good-list",{
					goods:JSON.parse(req.responseText)
				});
				// 循环结束后，将含有标签元素的字符串设置到 ul 上
				goodsDiv.innerHTML = str;
			}
		});	
	</script>
</body>
</html>