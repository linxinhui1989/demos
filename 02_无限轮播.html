<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		ul,li{list-style: none;}
		ul{
			width: 650px;
			height: 370px;
			position: relative;
			overflow: hidden;
		}
		li{
			width: 650px;
			height: 370px;
			position: absolute;
			left: 0;
			top: 0;
		}
		li img{
			width: 650px;
			height: 370px;
		}
		.active{
			z-index: 100;
		}
	</style>
</head>
<body>
	<div id="carousel">
		<ul>
			<li class="active"><img src="./images/1.jpg" alt=""></li>
			<li><img src="./images/2.jpg" alt=""></li>
		</ul>
	</div>
	<button>👈</button>
	<button>👉</button>
	<script type="text/javascript" src="fn2.js"></script>
	<script type="text/javascript">
		// 1. 找到所需的元素
		var btnPrev = $$.$("button")[0];
		var btnNext = $$.$("button")[1];
		var imgs = ["./images/1.jpg","./images/2.jpg","./images/3.jpg","./images/4.jpg","./images/5.jpg"];
		lis = $$.$("li");
		// 3. 给定一个 index 索引下标
		var index = 0;
		// 2. 注册点击事件
		btnNext.onclick = function(){
			var w = lis[0].offsetWidth;
			index ++;
			index %= imgs.length;
			if(index%2 == 1){
				lis[1].style.left = w + "px";
				// 让第一个li往左运动，运动到left = -650
				$$.animate(lis[0],{"left":-w});
				$$.animate(lis[1],{"left":0});
				lis[1].getElementsByTagName('img')[0].src = imgs[index];
			}else{
				lis[0].style.left = w + "px";
				// 让第一个li往左运动，运动到left = -650
				$$.animate(lis[1],{"left":-w});
				$$.animate(lis[0],{"left":0});
				lis[0].getElementsByTagName('img')[0].src = imgs[index];
			}
		}

		// 点击向左运动
		btnPrev.onclick = function(){
			var w = lis[0].offsetWidth;
			index --;
			if(index < 0){
				index = imgs.length - 1;
			}
			if(index%2 == 1){
				lis[1].style.left = -w + "px";
				// 让第一个li往左运动，运动到left = -650
				$$.animate(lis[0],{"left":w});
				$$.animate(lis[1],{"left":0});
				lis[1].getElementsByTagName('img')[0].src = imgs[index];
			}else{
				lis[0].style.left = -w + "px";
				// 让第一个li往左运动，运动到left = -650
				$$.animate(lis[1],{"left":w});
				$$.animate(lis[0],{"left":0});
				lis[0].getElementsByTagName('img')[0].src = imgs[index];
			}
		}
	</script>
</body>
</html>